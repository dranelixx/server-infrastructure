---
# Handlers for GitHub Actions Runner role
# NOTE: Handlers run in definition order. Reload must come before restart.

- name: Reload systemd
  ansible.builtin.systemd:
    daemon_reload: true
  become: true
  listen: "Reload and restart runner"

- name: Restart runner service
  ansible.builtin.systemd:
    name: "{{ github_runner_service_unit_name }}"
    state: restarted
  become: true
  when: github_runner_service_unit_name is defined
  listen: "Reload and restart runner"
